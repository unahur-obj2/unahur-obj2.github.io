---
import DefaultLayout from '@/layouts/DefaultLayout.astro'
import CardSecciones from '@/components/CardSecciones.astro'
import SeccionListaCopyCode from '@/components/SeccionListaCopyCode.astro'
import Separador from '@/components/Separador.astro'
import { Icon } from 'astro-icon/components'
import Git from '../content/data/Git.json'
import patrones from '../content/data/Patrones.json'
import varios from '../content/data/varios.json'
import uml from '../content/data/Uml.json'
import software from '../content/data/Programas.json'

const elementosComunes = await Astro.glob('../content/docs/commandos-git.md')
const { comandosBasicGit } = elementosComunes[0].frontmatter

const comportamientoFile = await Astro.glob(
	'../content/docs/patronesComportamiento.md'
)
const estructuralesFile = await Astro.glob(
	'../content/docs/patronesEstructurales.md'
)

const programasFile = await Astro.glob('../content/docs/programas.md')

const { comportamiento } = comportamientoFile[0].frontmatter
const { estructurales } = estructuralesFile[0].frontmatter
const { programas } = programasFile[0].frontmatter
---

<DefaultLayout
	title="Material - Objetos II"
	description="Universidad Nacional de Hurlingham, material de Programación con Objetos II"
	author="Objetos II">
	<!-- Hero Section Moderno -->
	<section
		class="relative overflow-hidden bg-gradient-to-br from-unahur-primary to-unahur-secondary py-16 text-white">
		<div class="absolute inset-0 opacity-10">
			<div
				class="absolute left-10 top-10 h-24 w-24 animate-pulse rounded-full bg-white">
			</div>
			<div
				class="absolute bottom-10 right-10 h-16 w-16 animate-bounce rounded-full bg-unahur-accent">
			</div>
		</div>

		<div class="container relative z-10 mx-auto px-4">
			<div class="mx-auto max-w-4xl text-center">
				<div class="mb-6 flex justify-center">
					<div class="rounded-2xl bg-white/20 p-4 backdrop-blur-sm">
						<svg
							class="h-12 w-12 text-white"
							fill="none"
							stroke="currentColor"
							viewBox="0 0 24 24">
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
							></path>
						</svg>
					</div>
				</div>

				<h1
					class="mb-4 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-4xl font-bold text-transparent md:text-6xl">
					Material
				</h1>

				<p class="text-lg leading-relaxed text-blue-100 md:text-xl">
					Recursos académicos y documentación técnica para Programación con
					Objetos II
				</p>
			</div>
		</div>
	</section>

	<!-- Layout Principal -->
	<div class="min-h-screen bg-gray-50 dark:bg-gray-900">
		<div class="flex">
			<!-- Sidebar Modernizado -->
			<aside
				class="sticky left-0 top-0 hidden h-screen w-max min-w-52 rounded-lg border-r border-gray-200 bg-white shadow-xl dark:border-gray-700 dark:bg-gray-800 lg:block">
				<div class="space-y-4 p-4">
					<!-- AsideMenu Modernizado -->
					<div class="space-y-3">
						<div
							class="rounded-lg bg-gradient-to-r from-unahur-primary to-unahur-secondary p-3 text-white">
							<h3 class="mb-2 text-sm font-bold">Patrones de Diseño</h3>
							<div class="space-y-1">
								{
									patrones.map((patron) => (
										<a
											href={patron.url}
											class="block rounded px-2 py-1 text-xs text-blue-100 transition-colors hover:bg-white/10 hover:text-white">
											{patron.title}
										</a>
									))
								}
							</div>
						</div>

						<div
							class="rounded-lg bg-gradient-to-r from-unahur-secondary to-unahur-accent p-3 text-white">
							<h3 class="mb-2 text-sm font-bold">UML</h3>
							<div class="space-y-1">
								{
									uml.map((item) => (
										<a
											href={item.url}
											class="block rounded px-2 py-1 text-xs text-blue-100 transition-colors hover:bg-white/10 hover:text-white">
											{item.title}
										</a>
									))
								}
							</div>
						</div>

						<div
							class="rounded-lg bg-gradient-to-r from-unahur-accent to-purple-500 p-3 text-white">
							<h3 class="mb-2 text-sm font-bold">Varios</h3>
							<div class="space-y-1">
								{
									varios.map((item) => (
										<a
											href={item.url}
											class="block rounded px-2 py-1 text-xs text-blue-100 transition-colors hover:bg-white/10 hover:text-white">
											{item.title}
										</a>
									))
								}
							</div>
						</div>

						<div
							class="rounded-lg bg-gradient-to-r from-gray-600 to-gray-700 p-3 text-white">
							<h3 class="mb-2 text-sm font-bold">Git</h3>
							<div class="space-y-1">
								{
									Git.map((item) => (
										<a
											href={item.url}
											class="block rounded px-2 py-1 text-xs text-gray-100 transition-colors hover:bg-white/10 hover:text-white">
											{item.title}
										</a>
									))
								}
							</div>
						</div>

						<div
							class="rounded-lg bg-gradient-to-r from-green-600 to-emerald-600 p-3 text-white">
							<h3 class="mb-2 text-sm font-bold">
								Programas necesarios para la cursada
							</h3>
							<div class="space-y-1">
								{
									software.map((item) => (
										<a
											href={item.url}
											class="block rounded px-2 py-1 text-xs text-green-100 transition-colors hover:bg-white/10 hover:text-white">
											{item.title}
										</a>
									))
								}
							</div>
						</div>
					</div>
				</div>
			</aside>

			<!-- Contenido Principal Modernizado -->
			<section class="flex-1 p-6">
				<div class="mx-auto max-w-5xl space-y-8">
					<!-- Título Principal -->
					<div class="mb-10 text-center">
						<h2
							class="bg-gradient-to-r from-unahur-primary to-unahur-secondary bg-clip-text text-3xl font-bold text-transparent sm:text-5xl">
							Material
						</h2>
					</div>

					<!-- Sección Patrones Comportamiento -->
					<div
						class="rounded-2xl border border-gray-200 bg-white p-8 shadow-xl dark:border-gray-700 dark:bg-gray-800">
						<CardSecciones
							id={'comportamiento'}
							title="Patrones de comportamiento">
							<p>
								Los patrones de comportamiento se centran en los algoritmos y en
								la asignación de responsabilidades entre los objetos. Estos
								patrones no solo describen objetos o clases, sino también los
								patrones de comunicación entre ellos.
							</p>
							<Separador />

							<article id="links">
								<SeccionListaCopyCode
									title="Patrones de comportamiento"
									lista={comportamiento}
									textKey="titulo"
									copyKey="codigo"
								/>
							</article>
						</CardSecciones>
					</div>

					<!-- Sección Patrones Estructurales -->
					<div
						class="rounded-2xl border border-gray-200 bg-white p-8 shadow-xl dark:border-gray-700 dark:bg-gray-800">
						<CardSecciones
							id={'estructurales'}
							title="Patrones estructurales">
							<p>
								Los patrones estructurales se ocupan de cómo se componen las
								clases y objetos para formar estructuras más grandes. Los
								patrones estructurales de clases usan la herencia para componer
								interfaces o implementaciones.
							</p>
							<Separador />

							<article id="links">
								<SeccionListaCopyCode
									title="Patrones estructurales"
									lista={estructurales}
									textKey="titulo"
									copyKey="codigo"
								/>
							</article>
						</CardSecciones>
					</div>

					<!-- Sección Excepciones -->
					<div
						class="rounded-2xl border border-gray-200 bg-white p-8 shadow-xl dark:border-gray-700 dark:bg-gray-800">
						<CardSecciones
							id={'excepciones'}
							title="Excepciones">
							<article id="links">
								<p
									id={'parrafoexcepciones'}
									class="mb-4 flex items-center text-gray-700 dark:text-gray-300">
									Intro a manejo de errores con excepciones en Java
								</p>
								<a
									id={'linkexcepciones'}
									href="https://docs.google.com/document/d/1Yy4YA3E_Gsuh7kcxbdRSpMsQat5PArnOEZWdnggzq7g/edit?usp=sharing"
									target="_blank"
									class="inline-flex items-center gap-2 rounded-lg bg-unahur-primary px-6 py-3 text-white transition-colors duration-300 hover:bg-unahur-secondary"
									>Ir al Apunte<Icon name="ion:arrow-up-right-box-outline" /></a
								>
							</article>
						</CardSecciones>
					</div>

					<!-- Sección TDD -->
					<div
						class="rounded-2xl border border-gray-200 bg-white p-8 shadow-xl dark:border-gray-700 dark:bg-gray-800">
						<CardSecciones
							id={'tdd'}
							title="Test Driven Development">
							<p class="mb-4 text-gray-700 dark:text-gray-300">
								Es una técnica de programación, por la cual el código se escribe
								para satisfacer pruebas que ponen en evidencia la necesidad de
								dicho código. Es por ello que se llama "desarrollo conducido por
								las pruebas"
							</p>
							<ul
								class="mb-6 list-inside list-disc space-y-2 text-gray-700 dark:text-gray-300">
								<li>
									Sólo se escribe nuevo código cuando una prueba ha fallado
								</li>
								<li>Se elimina la duplicación</li>
							</ul>
							<Separador />

							<article id="links">
								<p
									id={'parrafotdd'}
									class="mb-4 flex items-center text-gray-700 dark:text-gray-300">
									Intro a Test Driven Development
								</p>
								<a
									id={'linktdd'}
									href="https://docs.google.com/document/d/1lCMGpzsKqLJHOZH8WlJOyRUOONLMrp-0_Iv8-tWX5es/edit?usp=sharing"
									target="_blank"
									class="inline-flex items-center gap-2 rounded-lg bg-unahur-primary px-6 py-3 text-white transition-colors duration-300 hover:bg-unahur-secondary"
									>Ir al Apunte<Icon name="ion:arrow-up-right-box-outline" /></a
								>
							</article>
						</CardSecciones>
					</div>

					<!-- Sección Git -->
					<div
						class="rounded-2xl border border-gray-200 bg-white p-8 shadow-xl dark:border-gray-700 dark:bg-gray-800">
						<CardSecciones title="Git">
							<p class="mb-6 text-gray-700 dark:text-gray-300">
								Git es un sistema de control de versiones distribuido, es decir
								que todo el historial de nuestro proyecto queda guardado en
								nuestro repositorio.
							</p>
							<Separador />

							<article id="links">
								<SeccionListaCopyCode
									title="Configuración inicial"
									lista={comandosBasicGit}
									textKey="titulo"
									copyKey="codigo"
								/>
							</article>
						</CardSecciones>
					</div>

					<!-- Sección Programas -->
					<div
						class="rounded-2xl border border-gray-200 bg-white p-8 shadow-xl dark:border-gray-700 dark:bg-gray-800">
						<CardSecciones>
							<SeccionListaCopyCode
								title="Software requerido para la cursada"
								lista={programas}
								textKey="titulo"
							/>
						</CardSecciones>
					</div>
				</div>
			</section>
		</div>
	</div>

	<style lang="scss">
		p {
			margin-bottom: 10px;
		}
		#links a {
			transition: transform 0.2s ease-in-out;
		}

		a:hover {
			transform: scale(1.02);
		}

		#links {
			display: grid;
			gap: 1rem;
			grid-template-rows: auto;
			grid-template-columns: 1.5fr 0.3fr;
			grid-template-areas:
				'uno linkUno'
				'dos linkDos';

			@media (max-width: 1000px) {
				grid-template-columns: 1fr;
				grid-template-rows: auto;
				grid-gap: 1rem;
				grid-template-areas:
					'uno'
					'linkUno'
					'dos'
					'linkDos';
			}
		}

		#uno {
			grid-area: uno;
		}

		#linkUno {
			grid-area: linkUno;
		}
		#dos {
			grid-area: dos;
		}
		#linkDos {
			grid-area: linkDos;
		}

		@media (max-width: 1024px) {
			aside {
				display: none;
			}
		}
	</style>
</DefaultLayout>
