---
import ModernCardEjercicio from './ModernCardEjercicio.astro'
import CardSecciones from './CardSecciones.astro'

const { ejercicios } = Astro.props
---

<CardSecciones
	title="Ejercicios"
	id="ejercicios">
	<ul class="m-auto">
		{
			ejercicios ? (
				ejercicios.map(
					({
						name,
						comentarios,
						ejemploUrl,
						classroom,
						repoUrl,
						defaultBranch,
						fechaDeEntrega,
						obligatorio,
						consultas,
					}) => (
						<li class="flex w-full justify-center">
							<ModernCardEjercicio
								title={name}
								comentarios={
									comentarios?.map((c) => c.name).join(', ') || comentarios
								}
								urlGitHub={classroom}
								repoUrl={repoUrl ? `https://github.com/${repoUrl}` : undefined}
								ejemploUrl={ejemploUrl}
								fechaDeEntrega={fechaDeEntrega}
								obligatorio={obligatorio}
								consultas={consultas}
							/>
						</li>
					)
				)
			) : (
				<p class="m-auto flex w-full">
					<strong>Esta semana no hay ejercicios</strong>
				</p>
			)
		}
	</ul>
</CardSecciones>

<style lang="scss">
	ul {
		display: grid;
		grid-template-columns: 1fr;
		gap: 1.5rem;
		justify-items: center;
		align-items: start;
		list-style: none;
		padding: 0;
		margin: 0 auto;
		max-width: 100%;

		@media (min-width: 768px) {
			grid-template-columns: repeat(1, 1fr);
			max-width: 800px;
		}

		@media (min-width: 1200px) {
			grid-template-columns: repeat(2, 1fr);
			max-width: 1200px;
		}
	}

	li {
		display: flex;
		justify-content: center;
		width: 100%;
		height: 100%;
	}
</style>
