---
import { Breadcrumbs } from 'accessible-astro-components'
import { BreadcrumbsItem } from 'accessible-astro-components'
import {
	PATH,
	PATH_CURSADA_VIERNES,
	PATH_CURSADA2025c1_MIERCOLES,
} from '@/paths.js'
import LayoutSemanas from './LayoutSemanas.astro'
import VideosDeSemana from '@components/VideosDeSemana.astro'
import ActividadesDeSemana from '@components/ActividadesDeSemana.astro'
import HorariosDeSemana from '@components/HorariosDeSemana.astro'
import CardSecciones from '@/components/CardSecciones.astro'

const { frontmatter } = Astro.props

const { title, videos, horarios, ejercicios, atencion, importante } =
	frontmatter

const currentUrl = Astro.url.pathname
let PATH_CURSADA = PATH_CURSADA_VIERNES
let cursadaLabel = 'comision 1/3 Viernes'

if (currentUrl.includes('/comision-2-4-miercoles/')) {
	PATH_CURSADA = PATH_CURSADA2025c1_MIERCOLES
	cursadaLabel = 'comision 2/4 Miércoles'
}
---

<LayoutSemanas title={title}>
	<div class="container">
		<div
			class="animate-on-load mt-12"
			data-animate="fade-in-down">
			<Breadcrumbs>
				<BreadcrumbsItem
					href={PATH}
					label="Inicio"
				/>
				<BreadcrumbsItem
					href={PATH_CURSADA}
					label={cursadaLabel}
				/>
				<BreadcrumbsItem
					currentPage={true}
					label={title}
				/>
			</Breadcrumbs>
		</div>
	</div>

	<div class="container">
		<div class="my-12">
			<h1
				class="animate-on-load pb-3"
				data-animate="fade-in-up">
				{title}
			</h1>
			{
				atencion ? (
					<div
						class="animate-on-load"
						data-animate="fade-in-up">
						<CardSecciones
							title="Atención"
							atencion>
							{atencion}
						</CardSecciones>
					</div>
				) : null
			}
			{
				importante ? (
					<div
						class="animate-on-load"
						data-animate="fade-in-up">
						<CardSecciones
							title="Importante"
							importante>
							{importante}
						</CardSecciones>
					</div>
				) : null
			}
			<div
				class="animate-on-load pb-2"
				data-animate="fade-in-up">
				<slot />
			</div>
			{
				horarios ? (
					<div
						class="animate-on-load"
						data-animate="fade-in-up">
						<HorariosDeSemana horarios={horarios} />
					</div>
				) : null
			}
			{
				videos && (
					<div
						class="animate-on-load"
						data-animate="fade-in-up">
						<VideosDeSemana
							titulo="Videos"
							videos={videos}
						/>
					</div>
				)
			}
			<div
				class="animate-on-load"
				data-animate="fade-in-up">
				<ActividadesDeSemana ejercicios={ejercicios} />
			</div>
		</div>
	</div>
</LayoutSemanas>
